---
name: xhs-downloader
description: å°çº¢ä¹¦ä½œå“ä¸‹è½½å·¥å…·ï¼šæ”¯æŒæå–å°çº¢ä¹¦ä½œå“ä¿¡æ¯ã€ä¸‹è½½æ— æ°´å°å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶ã€‚ä½¿ç”¨ XHS-Downloader é¡¹ç›®ï¼Œæ— éœ€ç™»å½•å³å¯ä¸‹è½½ä½œå“ã€‚
---

# XHS-Downloader Skill

ä½ å¥½ï¼æˆ‘æ˜¯å°çº¢ä¹¦ä½œå“ä¸‹è½½åŠ©æ‰‹ã€‚

---

## ğŸ“‹ å·¥ä½œæµç¨‹

è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ‰§è¡Œï¼š

| æ­¥éª¤ | è¯´æ˜ | è¯¦ç»†æŒ‡å¼• |
|:---:|:---:|:---|
| 1ï¸âƒ£ | å‰ç½®æ¡ä»¶æ£€æŸ¥ | [workflow/step1-å‰ç½®æ£€æŸ¥.md](workflow/step1-å‰ç½®æ£€æŸ¥.md) |
| 2ï¸âƒ£ | æ‰§è¡Œä¸‹è½½ | [workflow/step2-æ‰§è¡Œä¸‹è½½.md](workflow/step2-æ‰§è¡Œä¸‹è½½.md) |
| 3ï¸âƒ£ | æŸ¥çœ‹ä¸‹è½½ç»“æœ | [workflow/step3-æŸ¥çœ‹ç»“æœ.md](workflow/step3-æŸ¥çœ‹ç»“æœ.md) |

---

## âš ï¸ æ‰§è¡Œå‰å¿…è¯»

**åœ¨å¼€å§‹ä»»ä½•æ­¥éª¤å‰ï¼Œè¯·åŠ¡å¿…é˜…è¯»ï¼š**
- [rules/ä¸‹è½½è§„åˆ™.md](rules/ä¸‹è½½è§„åˆ™.md) - ä¸‹è½½è¡Œä¸ºå’Œè§„åˆ™
- [rules/é…ç½®è¯´æ˜.md](rules/é…ç½®è¯´æ˜.md) - é…ç½®å‚æ•°è¯¦è§£

---

## ğŸ“š å‚è€ƒèµ„æ–™

**çŸ¥è¯†åº“ï¼ˆæŒ‰éœ€æŸ¥é˜…ï¼‰ï¼š**
- [references/é¡¹ç›®ç»“æ„.md](references/é¡¹ç›®ç»“æ„.md) - XHS-Downloader é¡¹ç›®ç»“æ„
- [references/APIå‚è€ƒ.md](references/APIå‚è€ƒ.md) - XHS.extract() æ–¹æ³•è¯¦è§£
- [references/æ”¯æŒçš„é“¾æ¥.md](references/æ”¯æŒçš„é“¾æ¥.md) - æ”¯æŒçš„é“¾æ¥æ ¼å¼
- [references/å¸¸è§é—®é¢˜.md](references/å¸¸è§é—®é¢˜.md) - å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

**è„šæœ¬æ¨¡æ¿ï¼š**
- [scripts/download_template.py](scripts/download_template.py) - ä¸‹è½½è„šæœ¬æ¨¡æ¿
- [scripts/extract_template.py](scripts/extract_template.py) - ä¿¡æ¯æå–è„šæœ¬æ¨¡æ¿

**é…ç½®ç¤ºä¾‹ï¼š**
- [assets/é…ç½®ç¤ºä¾‹.json](assets/é…ç½®ç¤ºä¾‹.json) - settings.json é…ç½®ç¤ºä¾‹

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åœºæ™¯1ï¼šä¸‹è½½å•ä¸ªä½œå“

```
ç”¨æˆ·ï¼šä¸‹è½½è¿™ä¸ªå°çº¢ä¹¦ https://www.xiaohongshu.com/discovery/item/xxx
æ‰§è¡Œï¼šå‰ç½®æ£€æŸ¥ â†’ æ‰§è¡Œä¸‹è½½ â†’ æŸ¥çœ‹ç»“æœ â†’ è¿”å›æ–‡ä»¶ä½ç½®
```

### åœºæ™¯2ï¼šä»…è·å–ä½œå“ä¿¡æ¯

```
ç”¨æˆ·ï¼šè·å–è¿™ä¸ªä½œå“çš„ä¿¡æ¯ https://www.xiaohongshu.com/explore/xxx
æ‰§è¡Œï¼šä½¿ç”¨ extract(url, download=False) â†’ è¿”å›ä½œå“æ•°æ®
```

### åœºæ™¯3ï¼šæŒ‡å®šä¸‹è½½éƒ¨åˆ†å›¾ç‰‡

```
ç”¨æˆ·ï¼šåªä¸‹è½½ç¬¬1ã€3ã€5å¼ å›¾
æ‰§è¡Œï¼šä½¿ç”¨ extract(url, download=True, index=[1, 3, 5])
```

### åœºæ™¯4ï¼šæ‰¹é‡ä¸‹è½½åšä¸»ç¬”è®° â­

**é‡è¦**ï¼šæœ¬å·¥å…·åªæ”¯æŒå•æ¡ä½œå“ä¸‹è½½ã€‚å¦‚éœ€æ‰¹é‡ä¸‹è½½åšä¸»çš„å¤šç¯‡ç¬”è®°ï¼Œè¯·ä½¿ç”¨ **xhs-batch-downloader**ã€‚

```
ç”¨æˆ·ï¼šä¸‹è½½åšä¸»ID 644ccb7700000000120342d8 çš„10ç¯‡ç¬”è®°
æ‰§è¡Œï¼šåˆ‡æ¢åˆ° xhs-batch-downloader skill æ‰§è¡Œ

å…·ä½“æ­¥éª¤ï¼š
1. cd C:\Users\admin\Projects\xhs-batch-downloader
2. python cli.py download 644ccb7700000000120342d8 --count 10
```

### åœºæ™¯5ï¼šä¸‹è½½å¹¶ç­›é€‰ç´ æ

```
ç”¨æˆ·ï¼šä¸‹è½½å¹¶ç­›é€‰è¿™ä¸ªå°çº¢ä¹¦ç¬”è®°
æ‰§è¡Œï¼šå‰ç½®æ£€æŸ¥ â†’ æ‰§è¡Œä¸‹è½½ â†’ äººè„¸æ£€æµ‹ç­›é€‰ â†’ è¿”å›åˆæ ¼ç´ æ

ç­›é€‰é˜ˆå€¼é€‰æ‹©ï¼š
- åŠèº«ç…§åšä¸»ï¼š--min-ratio 0.10 (é€šè¿‡ç‡~45%)
- å…¨èº«ç…§åšä¸»ï¼š--min-ratio 0.02 (é€šè¿‡ç‡~62%ï¼Œæ¨è)
```

---

## ğŸ“Š å·¥å…·é€‰æ‹©æŒ‡å—

| ä½¿ç”¨åœºæ™¯ | æ¨èå·¥å…· | è¯´æ˜ |
|---------|---------|------|
| å•æ¡ä½œå“é“¾æ¥ | **xhs-downloader** | æœ¬å·¥å…·ï¼Œæ— éœ€ç™»å½• |
| åšä¸»IDæ‰¹é‡ä¸‹è½½ | **xhs-batch-downloader** | éœ€ç™»å½•ï¼Œæ”¯æŒæ‰¹é‡ |
| ä¸‹è½½+ç­›é€‰+æ´—å›¾ | **å®Œæ•´å·¥ä½œæµ** | ç»„åˆå¤šä¸ªå·¥å…· |

**æ‰¹é‡ä¸‹è½½å®Œæ•´å·¥ä½œæµ**ï¼š
```
xhs-batch-downloader (ä¸‹è½½) 
    â†’ xhs-image-filter (ç­›é€‰) 
    â†’ xhs-comfyui-wash (æ´—å›¾)
```

---

## âœ… ä¸‹è½½åè¾“å‡º

- **æ–‡ä»¶ä½ç½®**ï¼š`C:\Users\admin\Projects\XHS-Downloader\Volume\Download\`
- **æ–‡ä»¶å‘½å**ï¼š`å‘å¸ƒæ—¶é—´_ä½œè€…æ˜µç§°_ä½œå“æ ‡é¢˜_åºå·.æ‰©å±•å`

---

## ğŸ–¼ï¸ ç´ ææ•´ç†ç­›é€‰ï¼ˆå¯é€‰ï¼‰

ä¸‹è½½å®Œæˆåï¼Œå¯ä»¥è‡ªåŠ¨ç­›é€‰å«æœ‰äººè„¸çš„ç´ æï¼š

```bash
cd "C:\Users\admin\Projects\xhs-image-filter"

# æ ‡å‡†ç­›é€‰ï¼ˆåŠèº«ç…§åšä¸»ï¼‰- é»˜è®¤ä¼šåˆ é™¤åŸæ–‡ä»¶
python cli.py filter "C:\Users\admin\Projects\XHS-Downloader\Volume\Download" --output "./output" --min-ratio 0.10

# å…¨èº«ç…§åšä¸»ï¼ˆæ¨èï¼‰- é»˜è®¤ä¼šåˆ é™¤åŸæ–‡ä»¶
python cli.py filter "C:\Users\admin\Projects\XHS-Downloader\Volume\Download" --output "./output" --min-ratio 0.02

# å¦‚éœ€ä¿ç•™åŸæ–‡ä»¶ï¼Œæ·»åŠ  --copy å‚æ•°
python cli.py filter "C:\Users\admin\Projects\XHS-Downloader\Volume\Download" --output "./output" --min-ratio 0.02 --copy
```

**ç­›é€‰é˜ˆå€¼æ ‡å‡†**ï¼š

| é˜ˆå€¼ | é€šè¿‡ç‡ | é€‚ç”¨åœºæ™¯ |
|------|:------:|----------|
| 10% | ~45% | æ ‡å‡†ç­›é€‰ï¼Œä¿ç•™åŠèº«ç…§ |
| 5% | ~5% | å®½æ¾ç­›é€‰ |
| **2%** | **~62%** | **å…¨èº«ç…§/è¿œæ™¯åšä¸»ï¼Œå¼ºçƒˆæ¨è** |

**å¸¸è§é—®é¢˜**ï¼š
- ç­›é€‰é€šè¿‡ç‡ä½ï¼ˆ<10%ï¼‰â†’ ä½¿ç”¨ `--min-ratio 0.02` æ”¾å®½é˜ˆå€¼
- åˆæ ¼ç´ æä¿å­˜åˆ° `output/filtered/`

---

## ğŸ¯ å¿«é€Ÿåˆ¤æ–­ï¼šè¯¥ç”¨å“ªä¸ªå·¥å…·ï¼Ÿ

**ç”¨æˆ·è¾“å…¥åˆ†æ**ï¼š

| ç”¨æˆ·è¯´ | ä½¿ç”¨å·¥å…· | ç«‹å³æ‰§è¡Œ |
|--------|---------|---------|
| "ä¸‹è½½è¿™ä¸ªé“¾æ¥..." / "https://xhslink.com/xxx" | **xhs-downloader** | âœ… æ˜¯ |
| "ä¸‹è½½åšä¸»ID..." / "ä¸‹è½½10ç¯‡ç¬”è®°" | **xhs-batch-downloader** | âœ… æ˜¯ |
| "ä¸‹è½½å¹¶ç­›é€‰..." | **xhs-downloader + xhs-image-filter** | âœ… æ˜¯ |
| "ä¸‹è½½...æ´—å›¾" / "å®Œæ•´å·¥ä½œæµ" | **å…¨éƒ¨å·¥å…·ç»„åˆ** | âœ… æ˜¯ |

**å…³é”®åŒºåˆ«**ï¼š
- **æœ‰é“¾æ¥** â†’ ç”¨ xhs-downloaderï¼ˆæœ¬å·¥å…·ï¼‰
- **æœ‰åšä¸»IDæˆ–æ•°é‡è¦æ±‚** â†’ ç”¨ xhs-batch-downloader

---

**å‡†å¤‡å°±ç»ªï¼å‘Šè¯‰æˆ‘ä½ è¦ä¸‹è½½çš„å°çº¢ä¹¦ä½œå“é“¾æ¥æˆ–åšä¸»IDã€‚**
