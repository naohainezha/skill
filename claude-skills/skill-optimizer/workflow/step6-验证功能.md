# 第六步：验证功能

## 你的任务

验证优化后的 skill 是否功能完整，所有文件正确创建。

## 验证清单

### 1. 文件结构验证
检查目录结构是否完整：

#### 基础结构
- [ ] SKILL.md 存在
- [ ] workflow/ 目录存在
- [ ] rules/ 目录存在
- [ ] references/ 目录存在

#### 可选结构
- [ ] templates/ 目录存在（如果需要）
- [ ] scripts/ 目录存在（如果需要）
- [ ] assets/ 目录存在（如果需要）

### 2. SKILL.md 验证
检查 SKILL.md 是否符合标准：

#### Frontmatter
- [ ] 包含 YAML frontmatter（`---` 包围）
- [ ] `name` 字段存在
- [ ] `description` 字段清晰（说明做什么、何时使用）
- [ ] 无其他不需要的字段

#### 内容结构
- [ ] 行数在 50-80 行之间
- [ ] 包含概述（3-5 段落）
- [ ] 包含工作流索引（表格形式）
- [ ] 包含"执行前必读"部分
- [ ] 包含"参考资料"部分
- [ ] 包含"快速开始"部分

#### 链接验证
- [ ] 所有相对路径链接正确
- [ ] 链接的文件实际存在
- [ ] 无断链或无效链接

### 3. Workflow 文件验证
检查每个 workflow 步骤：

- [ ] 文件命名规范（stepN-步骤名.md）
- [ ] 包含"你的任务"部分
- [ ] 包含"执行步骤"部分
- [ ] 包含"完成标志"部分
- [ ] 包含"参考资源"部分
- [ ] 内容完整且清晰

### 4. Rules 文件验证
检查 rules/ 目录：

- [ ] 禁止清单存在（如需要）
- [ ] 写作规范存在（如需要）
- [ ] 规则文件分类清晰
- [ ] 内容完整无遗漏

### 5. References 文件验证
检查 references/ 目录：

- [ ] 文件按主题分类（API、示例、配置等）
- [ ] 内容详细且完整
- [ ] 在 SKILL.md 中正确引用

### 6. Templates 文件验证
检查 templates/ 目录（如存在）：

- [ ] 模板格式清晰
- [ ] 包含完整示例
- [ ] 说明使用方法

### 7. Scripts 文件验证
检查 scripts/ 目录（如存在）：

- [ ] 脚本可执行
- [ ] 包含清晰的注释
- [ ] 实现预期功能

### 8. 上下文效率验证
对比优化前后的上下文加载：

| 维度 | 优化前 | 优化后 | 提升 |
|------|--------|--------|------|
| SKILL.md 行数 | [原行数] | [新行数] | [减少比例%] |
| 初始加载行数 | [原行数 + 内嵌内容] | [新行数] | [减少比例%] |
| 按需加载 | 无 | 有（references） | ✅ |

### 9. 功能完整性验证
确保优化后功能无损失：

- [ ] 所有原始功能可正常执行
- [ ] 无信息遗漏
- [ ] 工作流步骤清晰可执行
- [ ] 规则完整且易于查阅
- [ ] 参考资料按需可访问

## 完成标志

所有验证项目通过，生成验证报告：

```
✅ Skill 优化验证报告

优化结果：
- SKILL.md：[原行数] → [新行数]（↓[减少比例%]）
- 总文件数：[原文件数] → [新文件数]
- 上下文效率：↑[提升比例%]

文件清单：
- ✅ SKILL.md
- ✅ workflow/ ([数量] 个文件)
- ✅ rules/ ([数量] 个文件)
- ✅ references/ ([数量] 个文件)
- ✅ templates/ ([数量] 个文件)
- ✅ scripts/ ([数量] 个文件)

验证状态：
- ✅ 结构验证通过
- ✅ 链接验证通过
- ✅ 功能完整性验证通过

优化完成！
```

## 注意事项

⚠️ **功能优先**：
- 不要为了优化而牺牲功能
- 确保所有原始功能都可执行
- 如有功能缺失，需补充

⚠️ **向后兼容**：
- 优化后的 skill 应可与原 skill 互换使用
- 不应改变用户的使用方式
- 保持相同的触发机制

⚠️ **文档完整性**：
- 所有新文件应有清晰的内容
- 链接关系应正确建立
- 无孤立或不可达的文件
