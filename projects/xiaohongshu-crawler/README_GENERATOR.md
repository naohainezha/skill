# 小红书笔记生成器 - 使用说明

## 功能概述

本工具提供完整的小红书笔记采集、分析和生成功能，包含3个核心脚本：

1. **analyze_notes.py** - 笔记分析器
2. **generate_notes.py** - 笔记生成器
3. **xhs_workflow.py** - 完整工作流

## 快速开始

### 1. 完整工作流（推荐）

```bash
cd D:\xiaohongshu-crawler
python xhs_workflow.py 女生眼镜推荐 -n 5
```

这会自动执行：
- ✅ 分析已采集的笔记特点
- ✅ 生成5篇新笔记
- ✅ 质量检测
- ✅ 保存结果

### 2. 仅分析笔记

```bash
cd D:\xiaohongshu-crawler
python analyze_notes.py
```

输出分析报告：
- 标题特点（长度、emoji使用等）
- 内容特点（长度、标签数量等）
- 内容结构（列表、编号等）
- 笔记类型分布

### 3. 仅生成笔记

```bash
cd D:\xiaohongshu-crawler
python generate_notes.py
```

生成5篇符合小红书风格的笔记。

## 笔记类型

生成器支持4种笔记类型：

### 1. 教程攻略类
- 实用性强
- 包含步骤、要点
- 示例：选购攻略、避坑指南

### 2. 穿搭分享类
- 视觉性强
- 包含搭配细节
- 示例：日常穿搭、韩系风格

### 3. 日常记录类
- 真实性强
- 记录生活片段
- 示例：心情日记、生活随感

### 4. 产品合集类
- 推荐性强
- 列举多个产品
- 示例：好物推荐、必入清单

## 小红书笔记特点

根据采集分析，小红书笔记具有以下特征：

### 标题特征
- ✅ 简短有力（10-20字符）
- ✅ 大量使用emoji（80%+）
- ✅ 使用特殊符号吸引眼球

### 内容特征
- ✅ 长度适中（50-300字符）
- ✅ 必须包含标签（#）
- ✅ 大量使用emoji（100%）
- ✅ 结构化表达（列表、编号）

### 常用标签
- #眼镜 #眼镜搭配 #女生必备
- #日常记录 #穿搭分享
- #好物推荐 #平价好物

## 生成示例

### 示例1：教程攻略类

**标题：** 3分钟学会眼镜，省钱又省心💰

**内容：**
```
好多姐妹问我眼镜的问题，今天整理了一份超全攻略📖

🌟 什么是眼镜？
简单来说就是选择适合自己的眼镜框...

✅ 选购要点：
1. 看材质 - 优先选择轻便的钛合金材质
2. 看风格 - 根据脸型选框型
3. 看性价比 - 先看测评再试戴

💡 我的建议：
建议新手先从基础款入手...

#眼镜推荐 #女生眼镜 #新手攻略 #干货分享
```

### 示例2：穿搭分享类

**标题：** 今日份甜妹OOTD｜眼镜✨

**内容：**
```
今日cleanfit📸

米白色针织衫 + 卡其色半裙 + 玳瑁眼镜框
整体就是温柔的韩系学姐范儿～

整体look就是温柔知性带点小甜的感觉～
这个镜框真的太修饰脸型了！

上班被同事问爆了链接！

姐妹们试试看，真的很绝！😍

#日常穿搭 #OOTD #眼镜推荐 #温柔系 #韩式穿搭
```

### 示例3：日常记录类

**标题：** 好好生活🌈眼镜在身边

**内容：**
```
今天是被眼镜治愈的一天✨

阳光透过镜片洒在桌面上，
戴上喜欢的眼镜，心情都会变好～

原来生活中有这么多小美好
只需要我们用心发现💕

希望每个戴眼镜的姐妹都能找到属于自己的美好

#眼镜推荐 #日常记录 #生活碎片 #好好生活
```

### 示例4：产品合集类

**标题：** 必入清单！眼镜推荐📝

**内容：**
```
整理了5款超赞的眼镜，每一个都是真爱💕

1️⃣ 木九十玳瑁框 - 温柔韩系风
复古又时尚，适合圆脸鹅蛋脸

2️⃣ JINS轻量框 - 上班族首选
超轻材质，戴一天也不累

3️⃣ 透明树脂框 - 学生党平价
性价比超高，百搭不出错

...

都是性价比超高的，姐妹们放心冲！🛒

#眼镜推荐 #好物推荐 #平价好物 #购物清单
```

## 输出文件

所有文件保存在 `output/` 目录：

### 分析结果
- `analyze_notes.py` - 控制台输出分析报告

### 生成结果
- `generated_<关键词>_<时间>.json` - JSON格式（程序使用）
- `generated_<关键词>_<时间>.txt` - 文本格式（人工阅读）

## 自定义内容

要支持新关键词，需要编辑 `generate_notes.py` 中的 `data` 字典：

```python
self.data = {
    "你的关键词": {
        "definition": "定义",
        "tip1": "要点1",
        "tip2": "要点2",
        # ... 更多字段
    }
}
```

## 质量检测

工作流会自动进行质量检测：

- ✅ 标题长度检查（10-20字符）
- ✅ 内容长度检查（50-300字符）
- ✅ 标签数量检查（≥3个）
- ✅ Emoji使用检查

## 注意事项

1. **首次使用**：需要先运行爬虫采集笔记
2. **Cookie管理**：首次采集需扫码登录
3. **内容重复**：增加模板数量可减少重复
4. **关键词扩展**：在data字典中添加新关键词支持

## 工作目录

所有操作在 `D:\xiaohongshu-crawler\` 下进行。

## 故障排查

**问题：找不到采集笔记**
- 确保先运行 `crawler_v4.py` 采集笔记
- 检查 `output/` 目录是否有对应的JSON文件

**问题：生成内容重复**
- 增加 `templates` 中的模板数量
- 在 `data` 中添加更多样化的字段值

**问题：质量检测不通过**
- 检查模板长度是否合理
- 确保模板包含足够的emoji和标签

## 更新日志

**v1.0 (2026-01-06)**
- ✅ 创建笔记分析器
- ✅ 创建笔记生成器
- ✅ 创建完整工作流
- ✅ 支持4种笔记类型
- ✅ 添加质量检测功能
- ✅ 集成到Claude Code skills
